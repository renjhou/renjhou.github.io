(window.webpackJsonp=window.webpackJsonp||[]).push([[41,9,10,11,22],{614:function(e,t,n){var content=n(631);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("575beeec",content,!0,{sourceMap:!1})},617:function(e,t,n){var content=n(640);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("60cda17f",content,!0,{sourceMap:!1})},627:function(e,t,n){var content=n(659);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("02f693ee",content,!0,{sourceMap:!1})},630:function(e,t,n){"use strict";var o=n(614),r=n.n(o);n.d(t,"default",(function(){return r.a}))},631:function(e,t,n){var o=n(17)(!1);o.push([e.i,".wrap_heLqv{display:flex;align-items:center;justify-content:space-between}.input_AVnx5{width:39.688rem;height:3.438rem;border:1px solid #8c8c8c}.user_WNE0P{position:relative;padding:1.063rem 1rem;cursor:pointer}.menu_ANbYz,.user_WNE0P{font-weight:400;font-size:1.125rem}.menu_ANbYz{position:absolute;top:100%;right:0;padding:1.375rem 9.313rem 1.375rem .938rem;width:100%;border-radius:5px;box-shadow:0 0 5px 1px rgba(0,0,0,.5)}",""]),o.locals={wrap:"wrap_heLqv",input:"input_AVnx5",user:"user_WNE0P",menu:"menu_ANbYz"},e.exports=o},633:function(e,t,n){"use strict";n.r(t);n(36),n(26),n(21),n(28),n(12),n(34),n(22),n(35);var o=n(10),r=(n(231),n(13));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var l={components:{FieldInput:n(107).default},props:{value:{type:[String,Number],default:""}},data:function(){return{isShowMenu:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(r.c)({userInfo:"getUserInfo"})),methods:{logout:function(){var e=this;this.$axios.$post("/api/logout").then((function(t){t.success&&(localStorage.setItem("user",""),e.$axios.setToken("","Bearer"),e.$cookiz.set("token",""),e.$router.push("/login"))}))}}},d=l,f=n(630),h=n(7);var component=Object(h.a)(d,(function(){var e,t=this,n=t._self._c;return n("div",{class:t.$style.wrap},[n("FieldInput",{class:t.$style.input,attrs:{value:t.value,placeholder:"搜尋","suffix-icon":"el-icon-search"},on:{input:function(e){return t.$emit("input",e)}}}),t._v(" "),n("div",{class:t.$style.user,on:{click:function(e){t.isShowMenu=!t.isShowMenu}}},[t._v("\n        "+t._s("Hello ".concat(null===(e=t.userInfo)||void 0===e?void 0:e.name))+"\n        "),n("transition",{attrs:{name:"fade"}},[t.isShowMenu?n("div",{class:t.$style.menu,on:{click:function(e){return e.stopPropagation(),t.logout.apply(null,arguments)}}},[t._v("\n                登出\n            ")]):t._e()])],1)],1)}),[],!1,(function(e){this.$style=f.default.locals||f.default}),null,null);t.default=component.exports},639:function(e,t,n){"use strict";var o=n(617),r=n.n(o);n.d(t,"default",(function(){return r.a}))},640:function(e,t,n){var o=n(17)(!1);o.push([e.i,".button_5mDZh{font-size:1.125rem}.button_5mDZh.add_miUKL{background:#1961b6;color:#fff}.button_5mDZh.cancel_MiCbF{color:#333;border-color:#8c8c8c}.button_5mDZh.cancel_MiCbF:hover{background:#fff}.button_5mDZh.next_HTSP8{background:#fcaa4a;color:#333}.button_5mDZh:hover{opacity:.9}",""]),o.locals={button:"button_5mDZh",add:"add_miUKL",cancel:"cancel_MiCbF",next:"next_HTSP8"},e.exports=o},641:function(e,t,n){"use strict";n.r(t);var o={props:{type:{type:String,default:""},disabled:{type:Boolean,default:!1},size:{type:String,default:""}}},r=n(639),c=n(7);var component=Object(c.a)(o,(function(){var e=this;return(0,e._self._c)("el-button",{class:[e.$style.button,e.$style[e.type]],attrs:{type:e.type,disabled:e.disabled,size:e.size},on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)}),[],!1,(function(e){this.$style=r.default.locals||r.default}),null,null);t.default=component.exports},647:function(e,t,n){var content=n(705);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("3b6f4c58",content,!0,{sourceMap:!1})},658:function(e,t,n){"use strict";var o=n(627),r=n.n(o);n.d(t,"default",(function(){return r.a}))},659:function(e,t,n){var o=n(17)(!1);o.push([e.i,".dialog_G3hVz .el-dialog{max-width:42rem}.dialog_G3hVz .el-dialog__body,.dialog_G3hVz .el-dialog__header{padding:0}.title_0n5ls{padding:16px 24px;color:#333;font-size:1.375rem;font-weight:700;border-bottom:1px solid #333}.upload-wrap_OSg0m{padding:16px 24px 8px;font-size:1.125rem;text-align:left}.upload_HOqvf{padding:0 1rem;height:6.5rem;border-radius:6px;border:1px solid #e2e8f0;justify-content:space-between}.upload_HOqvf,.upload-btn_6wnhQ{display:flex;align-items:center}.upload-btn_6wnhQ{width:9.375rem;height:3.125rem;font-size:1.125rem;font-weight:600;justify-content:center;border-radius:5px;background:#1961b6;color:#fff;cursor:pointer}.upload-btn_6wnhQ.disabled_mjnSG{opacity:.5;cursor:not-allowed}.btn-wrap_GfRxd{display:flex;justify-content:flex-end;padding:1rem 1.5rem;text-align:center}.close-btn_yYvuk{display:flex;width:9.375rem;height:3.125rem;font-size:1.125rem;font-weight:600;align-items:center;justify-content:center;border-radius:5px;border:1px solid #8c8c8c;cursor:pointer}",""]),o.locals={dialog:"dialog_G3hVz",title:"title_0n5ls","upload-wrap":"upload-wrap_OSg0m",upload:"upload_HOqvf","upload-btn":"upload-btn_6wnhQ",disabled:"disabled_mjnSG","btn-wrap":"btn-wrap_GfRxd","close-btn":"close-btn_yYvuk"},e.exports=o},661:function(e,t,n){"use strict";n.r(t);var o=n(10),r=(n(26),n(21),n(28),n(12),n(34),n(22),n(35),n(27)),c=n(13);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={components:{FieldDialog:n(70).default},data:function(){return{file:null}},methods:d(d({},Object(c.b)(["actionSetToast"])),{},{upload:function(e){var t=e.target.files;if(null!=t&&t.length){var n=Object(r.a)(t,1);this.file=n[0]}},uploadFile:function(){this.$emit("upload",this.file)}})},h=n(658),_=n(7);var component=Object(_.a)(f,(function(){var e=this,t=e._self._c;return t("FieldDialog",{class:e.$style.dialog,attrs:{type:0,width:"100%"},on:{close:function(t){return e.$emit("close")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{class:e.$style.title},[e._v("檢核表上傳")])]},proxy:!0}])},[e._v(" "),[t("div",{class:e.$style["upload-wrap"]},[t("div",{class:e.$style.upload},[t("input",{attrs:{type:"file",accept:"application/pdf,application/gif,application/jpeg,application/x-png"},on:{change:e.upload}}),e._v(" "),t("div",{class:[e.$style["upload-btn"],Object(o.a)({},e.$style.disabled,!e.file)],on:{click:e.uploadFile}},[e._v("\n                    上傳\n                ")])])]),e._v(" "),t("div",{class:e.$style["btn-wrap"]},[t("div",{class:e.$style["close-btn"],on:{click:function(t){return e.$emit("close")}}},[e._v("關閉")])])]],2)}),[],!1,(function(e){this.$style=h.default.locals||h.default}),null,null);t.default=component.exports},675:function(e,t,n){var content=n(750);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("a74c959e",content,!0,{sourceMap:!1})},704:function(e,t,n){"use strict";var o=n(647),r=n.n(o);n.d(t,"default",(function(){return r.a}))},705:function(e,t,n){var o=n(17)(!1);o.push([e.i,".dialog_xG89f .el-dialog{max-width:56rem}.dialog_xG89f .el-dialog__body,.dialog_xG89f .el-dialog__header{padding:0}.title_-xgX3{padding:16px 24px;color:#333;font-size:1.375rem;font-weight:700;border-bottom:1px solid #333}.content-wrap_hYEcj{display:flex;flex-wrap:wrap;padding:16px 24px 8px;font-size:1.125rem;text-align:left}.file_wDAQS{margin-right:1.5rem;margin-bottom:1rem;padding:2.5rem 1rem 0;width:9rem;height:11rem;text-align:center;border:1px solid #8c8c8c;border-radius:.375rem;box-sizing:border-box;cursor:pointer}.file_wDAQS.active_HaGeV,.file_wDAQS:hover{border:4px solid #1961b6}.file_wDAQS>div{margin-top:1rem;font-size:.8rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.icon_GmzHN{font-size:3.75rem;color:#1961b7}.btn-wrap_x7kPO{justify-content:flex-end;padding:1rem 1.5rem;text-align:center;justify-content:space-between}.btn_MBDNS,.btn-wrap_x7kPO,.btn-wrap_x7kPO>div{display:flex}.btn_MBDNS{width:9.375rem;height:3.125rem;font-size:1.125rem;font-weight:600;align-items:center;justify-content:center;border-radius:5px;color:#333;cursor:pointer}.upload-btn_AjIu2{margin-right:1rem;color:#fff;background:#4d8831}.delete-btn_wsrxD{color:#fff;background:#c02020}.cancel-btn_HrLwt,.close-btn_8NlwA{border:1px solid #8c8c8c}.cancel-btn_HrLwt{margin-right:1rem}.save-btn_aVPEB{background:#fcaa4a}",""]),o.locals={dialog:"dialog_xG89f",title:"title_-xgX3","content-wrap":"content-wrap_hYEcj",file:"file_wDAQS",active:"active_HaGeV",icon:"icon_GmzHN","btn-wrap":"btn-wrap_x7kPO",btn:"btn_MBDNS","upload-btn":"upload-btn_AjIu2 btn_MBDNS","delete-btn":"delete-btn_wsrxD btn_MBDNS","cancel-btn":"cancel-btn_HrLwt btn_MBDNS","close-btn":"close-btn_8NlwA btn_MBDNS","save-btn":"save-btn_aVPEB btn_MBDNS"},e.exports=o},722:function(e,t,n){"use strict";n.r(t);var o=n(10),r=(n(39),n(51),n(26),n(21),n(34),n(22),n(35),n(28),n(12),n(13)),c=n(70),l=n(661);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={components:{FieldDialog:c.default,UploadDialog:l.default},data:function(){return{isShowUpload:!1,isDelete:!1,file:null,rowData:[],selectIndex:[]}},computed:{title:function(){return this.isDelete?"檢驗表(刪除)":"檢驗表(列表)"}},mounted:function(){this.onSearch()},methods:f(f({},Object(r.b)(["actionSetToast"])),{},{onSearch:function(){var e=this;this.$axios.$get("/api/inspectionFile").then((function(t){t.success&&(e.rowData=t.data)}))},onUpload:function(e){var t=this,n=new FormData;n.append("file",e),this.$axios.$post("/api/inspectionFile",n,{headers:{"content-type":"multipart/form-data"}}).then((function(e){e.success&&(t.actionSetToast("上傳成功"),t.isShowUpload=!1,t.onSearch())}))},onSave:function(){var e=this;this.$axios.$post("/api/inspectionFile/batchDestroy",{ids:this.selectIndex}).then((function(t){t.success&&(e.actionSetToast("刪除成功"),e.onSearch())}))},openUrl:function(e){this.isDelete?this.selectIndex.includes(e.id)?this.selectIndex=this.selectIndex.filter((function(t){return t!==e.id})):this.selectIndex.push(e.id):window.open(e.url)},onCancel:function(){this.isDelete=!1}})},_=n(704),v=n(7);var component=Object(v.a)(h,(function(){var e=this,t=e._self._c;return t("FieldDialog",{class:e.$style.dialog,attrs:{type:0,width:"100%"},on:{close:function(t){return e.$emit("close")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{class:e.$style.title},[e._v(e._s(e.title))])]},proxy:!0}])},[e._v(" "),[t("div",{class:e.$style["content-wrap"]},e._l(e.rowData,(function(n){return t("div",{key:"file-".concat(n.id),class:[e.$style.file,Object(o.a)({},e.$style.active,e.selectIndex.includes(n.id))],on:{click:function(t){return e.openUrl(n)}}},[t("fa-icon",{class:e.$style.icon,attrs:{icon:e.isDelete?"file":"file-arrow-down"}}),e._v(" "),t("div",{attrs:{title:n.file_name}},[e._v(e._s(n.file_name))])],1)})),0),e._v(" "),t("div",{class:e.$style["btn-wrap"]},[e.isDelete?[t("div"),e._v(" "),t("div",[t("div",{class:e.$style["cancel-btn"],on:{click:e.onCancel}},[e._v("取消")]),e._v(" "),t("div",{class:e.$style["save-btn"],on:{click:e.onSave}},[e._v("儲存")])])]:[t("div",[t("div",{class:e.$style["upload-btn"],on:{click:function(t){e.isShowUpload=!0}}},[e._v("上傳檢驗表")]),e._v(" "),t("div",{class:e.$style["delete-btn"],on:{click:function(t){e.isDelete=!0}}},[e._v("刪除檢驗表")])]),e._v(" "),t("div",{class:e.$style["close-btn"],on:{click:function(t){return e.$emit("close")}}},[e._v("關閉")])]],2)],e._v(" "),e.isShowUpload?t("UploadDialog",{on:{upload:e.onUpload,close:function(t){e.isShowUpload=!1}}}):e._e()],2)}),[],!1,(function(e){this.$style=_.default.locals||_.default}),null,null);t.default=component.exports},749:function(e,t,n){"use strict";var o=n(675),r=n.n(o);n.d(t,"default",(function(){return r.a}))},750:function(e,t,n){var o=n(17)(!1);o.push([e.i,".wrap_gTskf{flex:1;display:flex;padding:2rem 1.875rem 2.5rem;flex-direction:column;box-sizing:border-box}.search-wrap_6aLBO{margin-top:1.25rem;height:2.813rem}.feature_UEJfq{display:flex;margin-top:.938rem;justify-content:flex-end;align-items:center}.add-btn_jVijd{padding:.938rem 1.938rem;font-size:1.375rem}",""]),o.locals={wrap:"wrap_gTskf","search-wrap":"search-wrap_6aLBO",feature:"feature_UEJfq","add-btn":"add-btn_jVijd"},e.exports=o},791:function(e,t,n){"use strict";n.r(t);n(26),n(21),n(34),n(22),n(35);var o=n(10),r=n(27),c=(n(28),n(12),n(234),n(39),n(51),n(52),n(13)),l=n(653),d=n(641),f=n(660),h=n(633),_=n(722),v=n(622),m=n(238),y=n(236);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function x(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O={components:{FieldButton:d.default,TableArea:f.default,SearchBar:h.default,PrintDocument:_.default,DeleteDialog:y.default},data:function(){var e=this;return{curDeleteId:null,column:[{prop:"purchases_code",label:"進貨單號"},{prop:"userName",label:"經辦人員"},{prop:"created",label:"進貨時間"},{prop:"displayTotal",label:"成本"},{prop:"purchases_status_name",label:"進貨狀態",func:this.updateStatus},{prop:"inspections_status_name",label:"驗貨狀態"},{prop:"function",label:"",detail:[{key:"view",icon:"eye",func:this.onView},{key:"edit",icon:"pen",func:this.onEdit},{key:"delete",icon:"trash",func:function(t){var n=t.id;e.curDeleteId=n}},{key:"check",icon:["far","square-check"],func:this.onCheck}]}],rowData:[],searchKeyWord:"",isShowPrint:!1}},computed:{tableData:function(){var e=this,t=this.rowData;return this.searchKeyWord&&(t=t.filter((function(t){return Object.entries(t).some((function(t){var n=Object(r.a)(t,2),o=n[0],c=n[1];return!!e.column.some((function(e){return e.prop===o}))&&"".concat(c).includes(e.searchKeyWord)}))}))),t}},mounted:function(){this.onSearch()},methods:x(x({},Object(c.b)(["actionSetToast"])),{},{onSearch:function(){var e=this;this.$axios.$get("/api/purchase").then((function(t){t.success&&(e.rowData=t.data.map((function(e){return x(x({},e),{},{purchases_status_name:m.d[e.purchases_status],inspections_status_name:m.a[e.inspections_status],created:Object(l.a)(new Date(e.created_at),"yyyy-MM-dd HH:mm:ss"),displayTotal:Object(v.a)(e.total),isHideEdit:0!==e.purchases_status||0!==e.inspections_status,isHideDelete:0!==e.purchases_status||0!==e.inspections_status,isHideCheck:1!==e.purchases_status||0!==e.inspections_status&&2!==e.inspections_status})})))}))},onAdd:function(){this.$router.push("/putStock/add")},onView:function(e){var t=e.id;this.$router.push("/putStock/view/".concat(t))},onEdit:function(e){var t=e.id;this.$router.push("/putStock/edit/".concat(t))},onCheck:function(e){var t=e.id;this.$router.push("/putStock/verify/".concat(t))},onPrint:function(){this.isShowPrint=!0},onDelete:function(){var e=this;this.$axios.$delete("/api/purchase/".concat(this.curDeleteId)).then((function(t){t.success&&(e.actionSetToast("删除成功"),e.onSearch(),e.curDeleteId=null)}))},updateStatus:function(e){var t=this,n=0===e.purchases_status?1:0;this.$axios.$post("api/purchase/status/".concat(e.id),{purchases_status:n}).then((function(e){e.success&&(t.actionSetToast("進貨狀態修改成功"),t.onSearch())}))}})},j=n(749),D=n(7);var component=Object(D.a)(O,(function(){var e=this,t=e._self._c;return t("div",{class:e.$style.wrap},[t("SearchBar",{model:{value:e.searchKeyWord,callback:function(t){e.searchKeyWord=t},expression:"searchKeyWord"}}),e._v(" "),t("div",{class:e.$style["search-wrap"]}),e._v(" "),t("div",{class:e.$style.feature},[t("FieldButton",{class:e.$style["add-btn"],attrs:{type:"add"},on:{click:e.onPrint}},[e._v("\n            列印檢驗單\n        ")]),e._v(" "),t("FieldButton",{class:e.$style["add-btn"],attrs:{type:"add"},on:{click:e.onAdd}},[e._v("\n            新增進貨單\n        ")])],1),e._v(" "),t("TableArea",{attrs:{"type-label":"進貨單","table-data":e.tableData,column:e.column}}),e._v(" "),e.isShowPrint?t("PrintDocument",{on:{close:function(t){e.isShowPrint=!1}}}):e._e(),e._v(" "),e.curDeleteId?t("DeleteDialog",{on:{delete:e.onDelete,close:function(t){e.curDeleteId=null}}}):e._e()],1)}),[],!1,(function(e){this.$style=j.default.locals||j.default}),null,null);t.default=component.exports}}]);