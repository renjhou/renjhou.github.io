(window.webpackJsonp=window.webpackJsonp||[]).push([[37,9],{614:function(e,t,r){var content=r(631);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(18).default)("575beeec",content,!0,{sourceMap:!1})},630:function(e,t,r){"use strict";var n=r(614),o=r.n(n);r.d(t,"default",(function(){return o.a}))},631:function(e,t,r){var n=r(17)(!1);n.push([e.i,".wrap_heLqv{display:flex;align-items:center;justify-content:space-between}.input_AVnx5{width:39.688rem;height:3.438rem;border:1px solid #8c8c8c}.user_WNE0P{position:relative;padding:1.063rem 1rem;cursor:pointer}.menu_ANbYz,.user_WNE0P{font-weight:400;font-size:1.125rem}.menu_ANbYz{position:absolute;top:100%;right:0;padding:1.375rem 9.313rem 1.375rem .938rem;width:100%;border-radius:5px;box-shadow:0 0 5px 1px rgba(0,0,0,.5)}",""]),n.locals={wrap:"wrap_heLqv",input:"input_AVnx5",user:"user_WNE0P",menu:"menu_ANbYz"},e.exports=n},633:function(e,t,r){"use strict";r.r(t);r(36),r(26),r(21),r(28),r(12),r(34),r(22),r(35);var n=r(10),o=(r(231),r(13));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var l={components:{FieldInput:r(107).default},props:{value:{type:[String,Number],default:""}},data:function(){return{isShowMenu:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.c)({userInfo:"getUserInfo"})),methods:{logout:function(){var e=this;this.$axios.$post("/api/logout").then((function(t){t.success&&(localStorage.setItem("user",""),e.$axios.setToken("","Bearer"),e.$cookiz.set("token",""),e.$router.push("/login"))}))}}},d=l,f=r(630),h=r(7);var component=Object(h.a)(d,(function(){var e,t=this,r=t._self._c;return r("div",{class:t.$style.wrap},[r("FieldInput",{class:t.$style.input,attrs:{value:t.value,placeholder:"搜尋","suffix-icon":"el-icon-search"},on:{input:function(e){return t.$emit("input",e)}}}),t._v(" "),r("div",{class:t.$style.user,on:{click:function(e){t.isShowMenu=!t.isShowMenu}}},[t._v("\n        "+t._s("Hello ".concat(null===(e=t.userInfo)||void 0===e?void 0:e.name))+"\n        "),r("transition",{attrs:{name:"fade"}},[t.isShowMenu?r("div",{class:t.$style.menu,on:{click:function(e){return e.stopPropagation(),t.logout.apply(null,arguments)}}},[t._v("\n                登出\n            ")]):t._e()])],1)],1)}),[],!1,(function(e){this.$style=f.default.locals||f.default}),null,null);t.default=component.exports},674:function(e,t,r){var content=r(748);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(18).default)("094c740f",content,!0,{sourceMap:!1})},747:function(e,t,r){"use strict";var n=r(674),o=r.n(n);r.d(t,"default",(function(){return o.a}))},748:function(e,t,r){var n=r(17)(!1);n.push([e.i,".wrap_5bGTN{flex:1;display:flex;padding:2rem 1.875rem 2.5rem;flex-direction:column;box-sizing:border-box}.search-wrap_WAsoJ{margin-top:1.25rem;height:2.813rem}.feature_j4WKP,.search-wrap_WAsoJ{display:flex;align-items:center}.feature_j4WKP{margin:.938rem 0;height:3.438rem}.add-btn_5spZH{padding:.938rem 1.938rem;font-size:1.375rem}.select_RUzer{width:10.875rem;height:2.813rem}.date-picker_1OgZ1{margin-right:1rem;width:25rem;height:2.813rem;font-size:1rem}.btn_DsvHn{padding:.638rem 1.338rem;font-size:1rem;color:#fff;background:#4d8831;border-radius:.375rem;cursor:pointer}",""]),n.locals={wrap:"wrap_5bGTN","search-wrap":"search-wrap_WAsoJ",feature:"feature_j4WKP","add-btn":"add-btn_5spZH",select:"select_RUzer","date-picker":"date-picker_1OgZ1",btn:"btn_DsvHn"},e.exports=n},790:function(e,t,r){"use strict";r.r(t);r(40),r(235);var n=r(10),o=r(27),c=(r(28),r(12),r(234),r(39),r(51),r(52),r(26),r(21),r(34),r(22),r(35),r(13)),l=r(660),d=r(633),f=r(612),h=r(238),m=r(620);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _={components:{TableArea:l.default,SearchBar:d.default,FieldSelect:f.default,FieldDatePick:m.default},data:function(){return{search:{dateRange:[],type:""},column:[{prop:"orders_code",label:"訂單編號"},{prop:"request_orders_code",label:"叫貨單號"},{prop:"userName",label:"業務人員"},{prop:"created_at",label:"訂單時間"},{prop:"estimated_ship_date",label:"預計出貨日",sortable:!0},{prop:"orders_status_chinese",label:"狀態"},{prop:"function",label:"",detail:[{key:"view",icon:"eye",func:this.onView},{key:"edit",icon:"pen",func:this.onEdit},{key:"check",icon:"check",func:this.getNewOrder}]}],rowData:[],multipleSelection:[],searchKeyWord:""}},computed:{tableData:function(){var e=this,t=this.rowData;if(this.search.type&&(t=t.filter((function(t){return t.orders_status===e.search.type}))),2===this.search.dateRange.length){var r=new Date("".concat(this.search.dateRange[0]," 00:00:00")),n=new Date("".concat(this.search.dateRange[1]," 23:59:59"));console.log(r,n),t=t.filter((function(e){return r<=new Date(e.created_at)&&new Date(e.created_at)<=n}))}return this.searchKeyWord&&(t=t.filter((function(t){return Object.entries(t).some((function(t){var r=Object(o.a)(t,2),n=r[0],c=r[1];return!!e.column.some((function(e){return e.prop===n}))&&"".concat(c).includes(e.searchKeyWord)}))}))),t},orderStatusOptions:function(){return h.c.map((function(label,e){return{value:e,label:label}}))}},mounted:function(){this.onSearch()},methods:y(y({},Object(c.b)(["actionSetToast"])),{},{onSearch:function(){var e=this;this.$axios.$get("/api/order").then((function(t){t.success&&(e.rowData=t.data.map((function(e){return y(y({},e),{},{isHideCheck:0!==e.orders_status,isHideEdit:1!==e.orders_status})})))}))},onView:function(e){var t=e.id;this.$router.push("/order/view/".concat(t))},onEdit:function(e){var t=e.id;this.$router.push("/order/edit/".concat(t))},getNewOrder:function(e){e.id}})},w=r(747),O=r(7);var component=Object(O.a)(_,(function(){var e=this,t=e._self._c;return t("div",{class:e.$style.wrap},[t("SearchBar",{model:{value:e.searchKeyWord,callback:function(t){e.searchKeyWord=t},expression:"searchKeyWord"}}),e._v(" "),t("div",{class:e.$style["search-wrap"]},[t("FieldDatePick",{class:e.$style["date-picker"],attrs:{type:"datetimerange",label:"訂單時間",icon:""},model:{value:e.search.dateRange,callback:function(t){e.$set(e.search,"dateRange",t)},expression:"search.dateRange"}}),e._v(" "),t("FieldSelect",{class:e.$style.select,attrs:{options:e.orderStatusOptions,placeholder:"審核狀態"},model:{value:e.search.type,callback:function(t){e.$set(e.search,"type",t)},expression:"search.type"}})],1),e._v(" "),t("div",{class:e.$style.feature},[t("div",{class:e.$style.btn},[t("fa-icon",{attrs:{icon:"share"}}),e._v(" "),t("span",[e._v("轉揀貨")])],1)]),e._v(" "),t("TableArea",{attrs:{selection:"","table-data":e.tableData,column:e.column},on:{selectionChange:function(t){e.multipleSelection=t}}})],1)}),[],!1,(function(e){this.$style=w.default.locals||w.default}),null,null);t.default=component.exports}}]);