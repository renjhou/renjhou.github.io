(window.webpackJsonp=window.webpackJsonp||[]).push([[18,13,15,16,20,21],{609:function(t,e,n){var content=n(616);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("411a447d",content,!0,{sourceMap:!1})},610:function(t,e,n){var content=n(619);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("1ddf586a",content,!0,{sourceMap:!1})},612:function(t,e,n){"use strict";n.r(e);n(231);var r={props:{value:{type:[String,Array,Number],default:""},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},allowCreate:{type:Boolean,default:!1},placeholder:{type:String,default:"請選擇"},filterable:{type:Boolean,default:!1}}},o=n(615),l=n(7);var component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("el-select",{class:t.$style.select,attrs:{value:t.value,filterable:t.filterable,multiple:t.multiple,"allow-create":t.allowCreate,"default-first-option":t.allowCreate,placeholder:t.placeholder,disabled:t.disabled,clearable:""},on:{input:function(e){return t.$emit("input",e)}}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)}),[],!1,(function(t){this.$style=o.default.locals||o.default}),null,null);e.default=component.exports},615:function(t,e,n){"use strict";var r=n(609),o=n.n(r);n.d(e,"default",(function(){return o.a}))},616:function(t,e,n){var r=n(17)(!1);r.push([t.i,".select_oWp9J .el-input{height:inherit;font-size:inherit}.select_oWp9J input{height:inherit}.select_oWp9J .el-select__tags-text,.select_oWp9J .el-tag{font-size:inherit}",""]),r.locals={select:"select_oWp9J"},t.exports=r},618:function(t,e,n){"use strict";var r=n(610),o=n.n(r);n.d(e,"default",(function(){return o.a}))},619:function(t,e,n){var r=n(17)(!1);r.push([t.i,".date-picker_-Mwr9{display:inline-block;position:relative}.date-picker_-Mwr9 .el-date-editor{width:inherit;height:inherit;font-size:1.125rem}.date-picker_-Mwr9 input{padding-left:15px!important;width:inherit;height:inherit;font-size:inherit!important}.date-picker_-Mwr9 .el-date-editor--datetimerange{padding-left:70px}.date-picker_-Mwr9.has-icon_ykGcO input{padding-right:15px!important}.label_TxIZx{left:10px}.icon_CtwZa,.label_TxIZx{position:absolute;top:50%;transform:translateY(-50%)}.icon_CtwZa{right:10px}",""]),r.locals={"date-picker":"date-picker_-Mwr9","has-icon":"has-icon_ykGcO",label:"label_TxIZx",icon:"icon_CtwZa"},t.exports=r},620:function(t,e,n){"use strict";n.r(e);var r=n(10),o=(n(231),{props:{value:{type:[String,Number,Date,Array],default:null},type:{type:String,default:"date"},label:{type:String,default:""},icon:{type:Boolean,default:!0}}}),l=n(618),c=n(7);var component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{class:[t.$style["date-picker"],Object(r.a)({},t.$style["has-icon"],t.icon)]},[e("el-date-picker",{attrs:{value:t.value,type:t.type,placeholder:"選擇日期","value-format":"yyyy-MM-dd",format:"yyyy-MM-dd",clearable:!1,"prefix-icon":" ","range-separator":"~"},on:{input:function(e){return t.$emit("input",e)}}}),t._v(" "),t.label?e("div",{class:t.$style.label},[t._v(t._s(t.label))]):t._e(),t._v(" "),t.icon?e("fa-icon",{class:t.$style.icon,attrs:{icon:["far","calendar"]}}):t._e()],1)}),[],!1,(function(t){this.$style=l.default.locals||l.default}),null,null);e.default=component.exports},621:function(t,e,n){var content=n(644);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("37466e0f",content,!0,{sourceMap:!1})},634:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(161);var o=n(237),l=n(110);function c(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||Object(o.a)(t)||Object(l.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},635:function(t,e,n){var content=n(663);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("8f78d392",content,!0,{sourceMap:!1})},643:function(t,e,n){"use strict";var r=n(621),o=n.n(r);n.d(e,"default",(function(){return o.a}))},644:function(t,e,n){var r=n(17)(!1);r.push([t.i,".title_-1DpY{margin-bottom:.75rem;font-size:1.125rem}.border_GAV8k,.icon_HojRk{width:.875rem;height:.875rem}.border_GAV8k{display:flex;border-radius:50%;border:2px solid;border-color:inherit;justify-content:center;align-items:center}.border_GAV8k .icon_HojRk{width:.5rem;height:.5rem}",""]),r.locals={title:"title_-1DpY",border:"border_GAV8k",icon:"icon_HojRk"},t.exports=r},646:function(t,e,n){var content=n(702);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(18).default)("f22b9b46",content,!0,{sourceMap:!1})},654:function(t,e,n){"use strict";n.r(e);n(231);var r={props:{active:{type:Number,default:1},options:{type:Array,default:function(){return[]}}}},o=n(643),l=n(7);var component=Object(l.a)(r,(function(){var t=this,e=t._self._c;return e("div",{class:t.$style.steps},[e("el-steps",{attrs:{active:t.active,space:"150px"}},t._l(t.options,(function(n,r){return e("el-step",{key:r,scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{class:t.$style.title},[t._v(t._s(n.label))])]},proxy:!0},{key:"icon",fn:function(){return[t.active===r+1?e("div",{class:t.$style.border},[e("fa-icon",{class:t.$style.icon,attrs:{icon:"circle"}})],1):t.active>r+1?e("fa-icon",{class:t.$style.icon,attrs:{icon:"check"}}):e("div",{class:t.$style.border})]},proxy:!0}],null,!0)})})),1)],1)}),[],!1,(function(t){this.$style=o.default.locals||o.default}),null,null);e.default=component.exports},662:function(t,e,n){"use strict";var r=n(635),o=n.n(r);n.d(e,"default",(function(){return o.a}))},663:function(t,e,n){var r=n(17)(!1);r.push([t.i,".content_bIdsO{padding:1.875rem 2.5rem}.field_p85yo{display:flex;margin-bottom:2.5rem;align-items:center}.label_rJGE8{margin-right:1.25rem}.btn_v\\+1MP,.label_rJGE8{font-size:1.125rem}.btn_v\\+1MP{margin-left:1.875rem;padding:.75rem 1.25rem;color:#124178;border:1px solid #124178;border-radius:25px;cursor:pointer}.select_\\+U1WB{width:12.5rem;height:2.813rem}.input_8IxLv,.select_\\+U1WB{font-size:1.125rem}.input_8IxLv{width:39.688rem;height:3.438rem;border:1px solid #8c8c8c;box-sizing:border-box}.input_8IxLv .el-input__inner{border:0}.input-wrap_xtcez{position:relative}.kind-btn_9dtlU{position:absolute;top:50%;right:1rem;transform:translateY(-50%);cursor:pointer}.kind-btn_9dtlU>svg{width:1.375rem;height:1.375rem;color:#333}.kind-list_DS7N4{position:absolute;top:100%;left:0;width:39.688rem}.item_UH2ue{position:relative;display:flex;padding-left:15px;width:100%;height:3.438rem;border:1px solid #8c8c8c;font-size:1.125rem;align-items:center;box-sizing:border-box}.item_UH2ue:last-child{background:#e0e0e0}",""]),r.locals={content:"content_bIdsO",field:"field_p85yo",label:"label_rJGE8",btn:"btn_v+1MP",select:"select_+U1WB",input:"input_8IxLv","input-wrap":"input-wrap_xtcez","kind-btn":"kind-btn_9dtlU","kind-list":"kind-list_DS7N4",item:"item_UH2ue"},t.exports=r},693:function(t,e,n){"use strict";n.r(e);n(26),n(21),n(34),n(22),n(35);var r=n(634),o=n(10),l=(n(231),n(39),n(51),n(108),n(28),n(12),n(13)),c=n(612),d=n(107),f=n(233),v=n(239);function h(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var _={components:{FieldSelect:c.default,EditDialog:v.default,FieldInput:d.default,AlterDialog:f.default},props:{cargoType:{type:Number,default:null},kinds:{type:Array,default:function(){return[]}}},data:function(){return{kind:"",errorMsg:"",showDialog:!1}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(l.c)("options",{cargoTypeOption:"getCargoType"})),methods:{updateKinds:function(){this.kind&&(this.kinds.includes(this.kind)?(this.kind="",this.errorMsg="◎已有此款式，請重新輸入一個款式"):this.$emit("update:kinds",[].concat(Object(r.a)(this.kinds),[this.kind])),this.kind="")},removeKinds:function(t){this.$emit("update:kinds",this.kinds.filter((function(e){return e!==t}))),this.kind=""}}},y=_,m=n(662),k=n(7);var component=Object(k.a)(y,(function(){var t=this,e=t._self._c;return e("div",{class:t.$style.content},[e("div",{class:t.$style.field},[e("div",{class:t.$style.label,attrs:{required:""}},[t._v("類別")]),t._v(" "),e("FieldSelect",{class:t.$style.select,attrs:{value:t.cargoType,options:t.cargoTypeOption,filterable:"",placeholder:"請輸入類別"},on:{input:function(e){return t.$emit("update:cargoType",e)}}}),t._v(" "),e("div",{class:t.$style.btn,on:{click:function(e){t.showDialog=!0}}},[t._v("\n            新增類別\n        ")])],1),t._v(" "),e("div",{class:t.$style.field},[e("div",{class:t.$style.label,attrs:{required:""}},[t._v("款式")]),t._v(" "),e("div",{class:t.$style["input-wrap"]},[e("FieldInput",{class:t.$style.input,attrs:{placeholder:"請輸入款式"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateKinds.apply(null,arguments)}},model:{value:t.kind,callback:function(e){t.kind=e},expression:"kind"}}),t._v(" "),e("div",{class:t.$style["kind-btn"],on:{click:t.updateKinds}},[e("fa-icon",{attrs:{icon:"plus"}})],1),t._v(" "),t.kinds.length?e("div",{class:t.$style["kind-list"]},t._l(t.kinds,(function(n){return e("div",{key:"king-".concat(n),class:t.$style.item},[t._v("\n                    "+t._s(n)+"\n                    "),e("div",{class:t.$style["kind-btn"],on:{click:function(e){return t.removeKinds(n)}}},[e("fa-icon",{attrs:{icon:"times"}})],1)])})),0):t._e()],1)]),t._v(" "),t.showDialog?e("EditDialog",{on:{close:function(e){t.showDialog=!1}}}):t._e(),t._v(" "),t.errorMsg?e("AlterDialog",{attrs:{msg:t.errorMsg,width:""},on:{close:function(e){t.errorMsg=""}}}):t._e()],1)}),[],!1,(function(t){this.$style=m.default.locals||m.default}),null,null);e.default=component.exports},701:function(t,e,n){"use strict";var r=n(646),o=n.n(r);n.d(e,"default",(function(){return o.a}))},702:function(t,e,n){var r=n(17)(!1);r.push([t.i,".dialog_dobpA{min-width:360px;overflow:hidden}.dialog_dobpA .el-dialog__title{font-size:1.375rem}.dialog_dobpA .el-dialog__body{padding:0}.steps_QQapL{padding:1.875rem;border-bottom:1px solid #8c8c8c}.btn-wrap_t05o1{margin-top:1.5rem;padding-right:2.5rem;padding-bottom:2.375rem;justify-content:flex-end}.btn_IXzY-,.btn-wrap_t05o1{display:flex;align-items:center}.btn_IXzY-{width:7.5rem;height:3.125rem;border-radius:5px;font-size:1.25rem;color:#333;justify-content:center;cursor:pointer}.cancel_fbVsY{border:1px solid #8c8c8c}.cancel_fbVsY,.next_aVbJ\\+,.save_cWzYX{margin-right:1.875rem}.next_aVbJ\\+,.save_cWzYX{background:#fcaa4a}.pre_YGSwq{margin-right:1.875rem;color:#cd8229;border:1px solid #cd8229}",""]),r.locals={dialog:"dialog_dobpA",steps:"steps_QQapL","btn-wrap":"btn-wrap_t05o1",btn:"btn_IXzY-",cancel:"cancel_fbVsY btn_IXzY-",next:"next_aVbJ+ btn_IXzY-",save:"save_cWzYX btn_IXzY-",pre:"pre_YGSwq btn_IXzY-"},t.exports=r},719:function(t,e,n){"use strict";n.r(e);n(26),n(21),n(28),n(34),n(35);var r=n(27),o=n(10),l=(n(232),n(12),n(22),n(234),n(108),n(13)),c=n(70),d=n(654),f=n(233),v=n(693),h=n(720);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={components:{FieldDialog:c.default,FieldSteps:d.default,StepOne:v.default,StepTwo:h.default,AlterDialog:f.default},data:function(){return{active:1,showDialog:!1,cargoType:null,kinds:[],dataList:[],errorMsg:""}},computed:{stepOptions:function(){return 1===this.active?[{label:"基本資訊"},{label:"款式資訊"}]:[{label:"基本資訊"},{label:"款式資訊"},{label:"完成新增"}]}},methods:y(y({},Object(l.b)(["actionSetToast","actionSetErrMsg"])),{},{validFields:function(){var t=[];if(1===this.active&&(this.cargoType||t.push("<div>◎請輸入類別</div>"),this.kinds.length||t.push("<div>◎請新增款式</div>")),2===this.active)for(var e=0;e<this.dataList.length;e++){var n=this.dataList[e];n.SKU||t.push("<div>◎".concat(this.kinds[e]," 請輸入商品編號</div>")),n.PID||t.push("<div>◎".concat(this.kinds[e]," 請輸入PID碼</div>")),n.cost||t.push("<div>◎".concat(this.kinds[e]," 請輸入成本</div>")),n.cashier_conversion||t.push("<div>◎".concat(this.kinds[e]," 請輸入批價轉換比</div>")),n.cashier||t.push("<div>◎".concat(this.kinds[e]," 請輸入批價</div>")),n.unit_id||t.push("<div>◎".concat(this.kinds[e]," 請選擇件數單位</div>")),n.small_unit_id&&!n.conversion&&t.push("<div>◎".concat(this.kinds[e]," 請輸入轉換係數</div>")),n.spot_days||t.push("<div>◎".concat(this.kinds[e]," 請輸入即期天數</div>"))}return!t.length||(this.errorMsg=t.join(""),!1)},goNext:function(){if(this.validFields()){for(var t=0;t<this.kinds.length;t++)this.$set(this.dataList,t,{cargo_type_id:this.cargoType,shape:this.kinds[t],expiration_date:"9999-12-31"});this.active=2}},onSave:function(){var t=this;this.validFields()&&this.$axios.$post("/api/cargo",{data:this.dataList}).then((function(e){if(e.success)return t.actionSetToast("新增成功"),void t.$emit("reload");var n="";Object.entries(e.msg).forEach((function(e){var o=Object(r.a)(e,2),l=o[0],c=o[1],d=l.split(".")[1];c.forEach((function(e){n+="<div>".concat(t.kinds[d]," ").concat(e,"</div>")}))})),t.actionSetErrMsg(n)}))},updateData:function(t){var e=t.index,n=t.value;this.$set(this.dataList,e,n)}})},k=n(701),x=n(7);var component=Object(x.a)(m,(function(){var t=this,e=t._self._c;return e("FieldDialog",{attrs:{title:"新增商品","custom-class":t.$style.dialog,width:"86.25rem"},on:{close:function(e){return t.$emit("close")}}},[e("FieldSteps",{class:t.$style.steps,attrs:{active:t.active,options:t.stepOptions}}),t._v(" "),1===t.active?e("StepOne",{attrs:{"cargo-type":t.cargoType,kinds:t.kinds},on:{"update:cargoType":function(e){t.cargoType=e},"update:cargo-type":function(e){t.cargoType=e},"update:kinds":function(e){t.kinds=e}}}):2===t.active?e("StepTwo",{attrs:{"data-list":t.dataList,"cargo-type":t.cargoType,kinds:t.kinds},on:{input:t.updateData}}):t._e(),t._v(" "),e("div",{class:t.$style["btn-wrap"]},[e("div",{class:t.$style.cancel,on:{click:function(e){return t.$emit("close")}}},[t._v("\n            取消\n        ")]),t._v(" "),1===t.active?[e("div",{key:"next-btn",class:t.$style.next,on:{click:t.goNext}},[t._v("\n                下一步\n            ")])]:[e("div",{class:t.$style.pre,on:{click:function(e){t.active=1}}},[t._v("\n                上一步\n            ")]),t._v(" "),e("div",{class:t.$style.save,on:{click:t.onSave}},[t._v("\n                完成\n            ")])]],2),t._v(" "),t.errorMsg?e("AlterDialog",{attrs:{msg:t.errorMsg},on:{close:function(e){t.errorMsg=""}}}):t._e()],1)}),[],!1,(function(t){this.$style=k.default.locals||k.default}),null,null);e.default=component.exports}}]);