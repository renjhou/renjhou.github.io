(window.webpackJsonp=window.webpackJsonp||[]).push([[22,10],{627:function(e,t,n){var content=n(659);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("02f693ee",content,!0,{sourceMap:!1})},647:function(e,t,n){var content=n(705);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("3b6f4c58",content,!0,{sourceMap:!1})},658:function(e,t,n){"use strict";var o=n(627),l=n.n(o);n.d(t,"default",(function(){return l.a}))},659:function(e,t,n){var o=n(17)(!1);o.push([e.i,".dialog_G3hVz .el-dialog{max-width:42rem}.dialog_G3hVz .el-dialog__body,.dialog_G3hVz .el-dialog__header{padding:0}.title_0n5ls{padding:16px 24px;color:#333;font-size:1.375rem;font-weight:700;border-bottom:1px solid #333}.upload-wrap_OSg0m{padding:16px 24px 8px;font-size:1.125rem;text-align:left}.upload_HOqvf{padding:0 1rem;height:6.5rem;border-radius:6px;border:1px solid #e2e8f0;justify-content:space-between}.upload_HOqvf,.upload-btn_6wnhQ{display:flex;align-items:center}.upload-btn_6wnhQ{width:9.375rem;height:3.125rem;font-size:1.125rem;font-weight:600;justify-content:center;border-radius:5px;background:#1961b6;color:#fff;cursor:pointer}.upload-btn_6wnhQ.disabled_mjnSG{opacity:.5;cursor:not-allowed}.btn-wrap_GfRxd{display:flex;justify-content:flex-end;padding:1rem 1.5rem;text-align:center}.close-btn_yYvuk{display:flex;width:9.375rem;height:3.125rem;font-size:1.125rem;font-weight:600;align-items:center;justify-content:center;border-radius:5px;border:1px solid #8c8c8c;cursor:pointer}",""]),o.locals={dialog:"dialog_G3hVz",title:"title_0n5ls","upload-wrap":"upload-wrap_OSg0m",upload:"upload_HOqvf","upload-btn":"upload-btn_6wnhQ",disabled:"disabled_mjnSG","btn-wrap":"btn-wrap_GfRxd","close-btn":"close-btn_yYvuk"},e.exports=o},661:function(e,t,n){"use strict";n.r(t);var o=n(10),l=(n(26),n(21),n(28),n(12),n(34),n(22),n(35),n(27)),r=n(13);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={components:{FieldDialog:n(70).default},data:function(){return{file:null}},methods:d(d({},Object(r.b)(["actionSetToast"])),{},{upload:function(e){var t=e.target.files;if(null!=t&&t.length){var n=Object(l.a)(t,1);this.file=n[0]}},uploadFile:function(){this.$emit("upload",this.file)}})},_=n(658),h=n(7);var component=Object(h.a)(f,(function(){var e=this,t=e._self._c;return t("FieldDialog",{class:e.$style.dialog,attrs:{type:0,width:"100%"},on:{close:function(t){return e.$emit("close")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{class:e.$style.title},[e._v("檢核表上傳")])]},proxy:!0}])},[e._v(" "),[t("div",{class:e.$style["upload-wrap"]},[t("div",{class:e.$style.upload},[t("input",{attrs:{type:"file",accept:"application/pdf,application/gif,application/jpeg,application/x-png"},on:{change:e.upload}}),e._v(" "),t("div",{class:[e.$style["upload-btn"],Object(o.a)({},e.$style.disabled,!e.file)],on:{click:e.uploadFile}},[e._v("\n                    上傳\n                ")])])]),e._v(" "),t("div",{class:e.$style["btn-wrap"]},[t("div",{class:e.$style["close-btn"],on:{click:function(t){return e.$emit("close")}}},[e._v("關閉")])])]],2)}),[],!1,(function(e){this.$style=_.default.locals||_.default}),null,null);t.default=component.exports},704:function(e,t,n){"use strict";var o=n(647),l=n.n(o);n.d(t,"default",(function(){return l.a}))},705:function(e,t,n){var o=n(17)(!1);o.push([e.i,".dialog_xG89f .el-dialog{max-width:56rem}.dialog_xG89f .el-dialog__body,.dialog_xG89f .el-dialog__header{padding:0}.title_-xgX3{padding:16px 24px;color:#333;font-size:1.375rem;font-weight:700;border-bottom:1px solid #333}.content-wrap_hYEcj{display:flex;flex-wrap:wrap;padding:16px 24px 8px;font-size:1.125rem;text-align:left}.file_wDAQS{margin-right:1.5rem;margin-bottom:1rem;padding:2.5rem 1rem 0;width:9rem;height:11rem;text-align:center;border:1px solid #8c8c8c;border-radius:.375rem;box-sizing:border-box;cursor:pointer}.file_wDAQS.active_HaGeV,.file_wDAQS:hover{border:4px solid #1961b6}.file_wDAQS>div{margin-top:1rem;font-size:.8rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.icon_GmzHN{font-size:3.75rem;color:#1961b7}.btn-wrap_x7kPO{justify-content:flex-end;padding:1rem 1.5rem;text-align:center;justify-content:space-between}.btn_MBDNS,.btn-wrap_x7kPO,.btn-wrap_x7kPO>div{display:flex}.btn_MBDNS{width:9.375rem;height:3.125rem;font-size:1.125rem;font-weight:600;align-items:center;justify-content:center;border-radius:5px;color:#333;cursor:pointer}.upload-btn_AjIu2{margin-right:1rem;color:#fff;background:#4d8831}.delete-btn_wsrxD{color:#fff;background:#c02020}.cancel-btn_HrLwt,.close-btn_8NlwA{border:1px solid #8c8c8c}.cancel-btn_HrLwt{margin-right:1rem}.save-btn_aVPEB{background:#fcaa4a}",""]),o.locals={dialog:"dialog_xG89f",title:"title_-xgX3","content-wrap":"content-wrap_hYEcj",file:"file_wDAQS",active:"active_HaGeV",icon:"icon_GmzHN","btn-wrap":"btn-wrap_x7kPO",btn:"btn_MBDNS","upload-btn":"upload-btn_AjIu2 btn_MBDNS","delete-btn":"delete-btn_wsrxD btn_MBDNS","cancel-btn":"cancel-btn_HrLwt btn_MBDNS","close-btn":"close-btn_8NlwA btn_MBDNS","save-btn":"save-btn_aVPEB btn_MBDNS"},e.exports=o},722:function(e,t,n){"use strict";n.r(t);var o=n(10),l=(n(39),n(51),n(26),n(21),n(34),n(22),n(35),n(28),n(12),n(13)),r=n(70),c=n(661);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _={components:{FieldDialog:r.default,UploadDialog:c.default},data:function(){return{isShowUpload:!1,isDelete:!1,file:null,rowData:[],selectIndex:[]}},computed:{title:function(){return this.isDelete?"檢驗表(刪除)":"檢驗表(列表)"}},mounted:function(){this.onSearch()},methods:f(f({},Object(l.b)(["actionSetToast"])),{},{onSearch:function(){var e=this;this.$axios.$get("/api/inspectionFile").then((function(t){t.success&&(e.rowData=t.data)}))},onUpload:function(e){var t=this,n=new FormData;n.append("file",e),this.$axios.$post("/api/inspectionFile",n,{headers:{"content-type":"multipart/form-data"}}).then((function(e){e.success&&(t.actionSetToast("上傳成功"),t.isShowUpload=!1,t.onSearch())}))},onSave:function(){var e=this;this.$axios.$post("/api/inspectionFile/batchDestroy",{ids:this.selectIndex}).then((function(t){t.success&&(e.actionSetToast("刪除成功"),e.onSearch())}))},openUrl:function(e){this.isDelete?this.selectIndex.includes(e.id)?this.selectIndex=this.selectIndex.filter((function(t){return t!==e.id})):this.selectIndex.push(e.id):window.open(e.url)},onCancel:function(){this.isDelete=!1}})},h=n(704),v=n(7);var component=Object(v.a)(_,(function(){var e=this,t=e._self._c;return t("FieldDialog",{class:e.$style.dialog,attrs:{type:0,width:"100%"},on:{close:function(t){return e.$emit("close")}},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{class:e.$style.title},[e._v(e._s(e.title))])]},proxy:!0}])},[e._v(" "),[t("div",{class:e.$style["content-wrap"]},e._l(e.rowData,(function(n){return t("div",{key:"file-".concat(n.id),class:[e.$style.file,Object(o.a)({},e.$style.active,e.selectIndex.includes(n.id))],on:{click:function(t){return e.openUrl(n)}}},[t("fa-icon",{class:e.$style.icon,attrs:{icon:e.isDelete?"file":"file-arrow-down"}}),e._v(" "),t("div",{attrs:{title:n.file_name}},[e._v(e._s(n.file_name))])],1)})),0),e._v(" "),t("div",{class:e.$style["btn-wrap"]},[e.isDelete?[t("div"),e._v(" "),t("div",[t("div",{class:e.$style["cancel-btn"],on:{click:e.onCancel}},[e._v("取消")]),e._v(" "),t("div",{class:e.$style["save-btn"],on:{click:e.onSave}},[e._v("儲存")])])]:[t("div",[t("div",{class:e.$style["upload-btn"],on:{click:function(t){e.isShowUpload=!0}}},[e._v("上傳檢驗表")]),e._v(" "),t("div",{class:e.$style["delete-btn"],on:{click:function(t){e.isDelete=!0}}},[e._v("刪除檢驗表")])]),e._v(" "),t("div",{class:e.$style["close-btn"],on:{click:function(t){return e.$emit("close")}}},[e._v("關閉")])]],2)],e._v(" "),e.isShowUpload?t("UploadDialog",{on:{upload:e.onUpload,close:function(t){e.isShowUpload=!1}}}):e._e()],2)}),[],!1,(function(e){this.$style=h.default.locals||h.default}),null,null);t.default=component.exports}}]);