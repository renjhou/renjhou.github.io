(window.webpackJsonp=window.webpackJsonp||[]).push([[49,9,11],{614:function(e,t,n){var content=n(631);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("575beeec",content,!0,{sourceMap:!1})},617:function(e,t,n){var content=n(640);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("60cda17f",content,!0,{sourceMap:!1})},630:function(e,t,n){"use strict";var r=n(614),o=n.n(r);n.d(t,"default",(function(){return o.a}))},631:function(e,t,n){var r=n(17)(!1);r.push([e.i,".wrap_heLqv{display:flex;align-items:center;justify-content:space-between}.input_AVnx5{width:39.688rem;height:3.438rem;border:1px solid #8c8c8c}.user_WNE0P{position:relative;padding:1.063rem 1rem;cursor:pointer}.menu_ANbYz,.user_WNE0P{font-weight:400;font-size:1.125rem}.menu_ANbYz{position:absolute;top:100%;right:0;padding:1.375rem 9.313rem 1.375rem .938rem;width:100%;border-radius:5px;box-shadow:0 0 5px 1px rgba(0,0,0,.5)}",""]),r.locals={wrap:"wrap_heLqv",input:"input_AVnx5",user:"user_WNE0P",menu:"menu_ANbYz"},e.exports=r},633:function(e,t,n){"use strict";n.r(t);n(36),n(26),n(21),n(28),n(12),n(34),n(22),n(35);var r=n(10),o=(n(231),n(13));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var l={components:{FieldInput:n(107).default},props:{value:{type:[String,Number],default:""}},data:function(){return{isShowMenu:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.c)({userInfo:"getUserInfo"})),methods:{logout:function(){var e=this;this.$axios.$post("/api/logout").then((function(t){t.success&&(localStorage.setItem("user",""),e.$axios.setToken("","Bearer"),e.$cookiz.set("token",""),e.$router.push("/login"))}))}}},d=l,f=n(630),h=n(7);var component=Object(h.a)(d,(function(){var e,t=this,n=t._self._c;return n("div",{class:t.$style.wrap},[n("FieldInput",{class:t.$style.input,attrs:{value:t.value,placeholder:"搜尋","suffix-icon":"el-icon-search"},on:{input:function(e){return t.$emit("input",e)}}}),t._v(" "),n("div",{class:t.$style.user,on:{click:function(e){t.isShowMenu=!t.isShowMenu}}},[t._v("\n        "+t._s("Hello ".concat(null===(e=t.userInfo)||void 0===e?void 0:e.name))+"\n        "),n("transition",{attrs:{name:"fade"}},[t.isShowMenu?n("div",{class:t.$style.menu,on:{click:function(e){return e.stopPropagation(),t.logout.apply(null,arguments)}}},[t._v("\n                登出\n            ")]):t._e()])],1)],1)}),[],!1,(function(e){this.$style=f.default.locals||f.default}),null,null);t.default=component.exports},639:function(e,t,n){"use strict";var r=n(617),o=n.n(r);n.d(t,"default",(function(){return o.a}))},640:function(e,t,n){var r=n(17)(!1);r.push([e.i,".button_5mDZh{font-size:1.125rem}.button_5mDZh.add_miUKL{background:#1961b6;color:#fff}.button_5mDZh.cancel_MiCbF{color:#333;border-color:#8c8c8c}.button_5mDZh.cancel_MiCbF:hover{background:#fff}.button_5mDZh.next_HTSP8{background:#fcaa4a;color:#333}.button_5mDZh:hover{opacity:.9}",""]),r.locals={button:"button_5mDZh",add:"add_miUKL",cancel:"cancel_MiCbF",next:"next_HTSP8"},e.exports=r},641:function(e,t,n){"use strict";n.r(t);var r={props:{type:{type:String,default:""},disabled:{type:Boolean,default:!1},size:{type:String,default:""}}},o=n(639),c=n(7);var component=Object(c.a)(r,(function(){var e=this;return(0,e._self._c)("el-button",{class:[e.$style.button,e.$style[e.type]],attrs:{type:e.type,disabled:e.disabled,size:e.size},on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)}),[],!1,(function(e){this.$style=o.default.locals||o.default}),null,null);t.default=component.exports},650:function(e,t,n){var content=n(711);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("51294b97",content,!0,{sourceMap:!1})},679:function(e,t,n){var content=n(759);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(18).default)("7bbf5e22",content,!0,{sourceMap:!1})},710:function(e,t,n){"use strict";var r=n(650),o=n.n(r);n.d(t,"default",(function(){return o.a}))},711:function(e,t,n){var r=n(17)(!1);r.push([e.i,".title_HF9tN{padding:16px 24px;font-size:1.375rem;font-weight:600;border-bottom:1px solid #000;color:#333}.content_XyWI6{padding:1.5rem 0}.field_p-kh3{display:flex;align-items:center;font-size:1.125rem}.label_A0hGP{margin:1.5rem .75rem 1.5rem 2.063rem;width:5rem;color:#124178}.btn-wrap_DzAde{padding:1rem 1.5rem;border-top:1px solid #000;text-align:center;justify-content:flex-end}.btn_zg6F6,.btn-wrap_DzAde,.btn-wrap_DzAde>div{display:flex}.btn_zg6F6{width:9.375rem;height:3.125rem;border-radius:5px;font-size:1.125rem;font-weight:600;align-items:center;justify-content:center;color:#333;cursor:pointer}.close-btn_NrNa\\+{border:1px solid #8c8c8c}.save-btn_uRnUo{margin-left:1rem;background:#fcaa4a}.input_DcrUi,.select_pg-ra{width:12.5rem;height:3.438rem}",""]),r.locals={title:"title_HF9tN",content:"content_XyWI6",field:"field_p-kh3",label:"label_A0hGP","btn-wrap":"btn-wrap_DzAde",btn:"btn_zg6F6","close-btn":"close-btn_NrNa+ btn_zg6F6","save-btn":"save-btn_uRnUo btn_zg6F6",input:"input_DcrUi",select:"select_pg-ra"},e.exports=r},725:function(e,t,n){"use strict";n.r(t);n(39),n(26),n(21),n(28),n(12),n(34),n(22),n(35);var r=n(10),o=(n(231),n(232),n(13)),c=n(238),l=n(71),d=n(612),f=n(107),h=n(233);function _(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={components:{CustomDialog:l.default,FieldSelect:d.default,FieldInput:f.default,AlterDialog:h.default},props:{id:{type:[String,Number],default:null},type:{type:String,required:!0}},data:function(){return{data:{warehous_code:"",warehous_type:"",warehous_name:""},errorMsg:"",warehousTypeOptions:c.f}},computed:{title:function(){return"add"===this.type?"新增儲位":"view"===this.type?"檢視儲位":"編輯儲位"}},mounted:function(){"add"!==this.type&&this.onSearch()},methods:y(y({},Object(o.b)(["actionSetToast"])),{},{onSearch:function(){var e=this;this.$axios.$get("/api/warehouse/".concat(this.id)).then((function(t){t.success&&(e.data=t.data,e.data.warehous_type_name=c.e[e.data.warehous_type])}))},validField:function(){var e=[];return this.data.warehous_code||e.push("<div>◎請輸入儲位編號</div>"),this.data.warehous_type||e.push("<div>◎請選擇儲位類型</div>"),this.data.warehous_name||e.push("<div>◎請輸入儲位名稱</div>"),!e.length||(this.errorMsg=e.join(""),!1)},onSave:function(){var e=this;if(this.validField()){var t={warehous_code:this.data.warehous_code,warehous_type:this.data.warehous_type,warehous_name:this.data.warehous_name};"edit"===this.type?this.$axios.$put("/api/warehouse/".concat(this.id),t).then((function(t){t.success&&(e.actionSetToast("修改成功"),e.$emit("reload"))})):this.$axios.$post("/api/warehouse",t).then((function(t){t.success&&(e.actionSetToast("新增成功"),e.$emit("reload"))}))}}})},m=n(710),w=n(7);var component=Object(w.a)(v,(function(){var e=this,t=e._self._c;return t("CustomDialog",{attrs:{type:0},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{class:e.$style.title},[e._v(e._s(e.title))])]},proxy:!0},{key:"content",fn:function(){return[t("div",{class:e.$style.content},[t("div",{class:e.$style.field},[t("div",{class:e.$style.label},[e._v("儲位編號")]),e._v(" "),["add","edit"].includes(e.type)?t("FieldInput",{class:e.$style.input,model:{value:e.data.warehous_code,callback:function(t){e.$set(e.data,"warehous_code",t)},expression:"data.warehous_code"}}):t("div",[e._v(e._s(e.data.warehous_code))])],1),e._v(" "),t("div",{class:e.$style.field},[t("div",{class:e.$style.label},[e._v("儲位類型")]),e._v(" "),["add","edit"].includes(e.type)?t("FieldSelect",{class:e.$style.select,attrs:{options:e.warehousTypeOptions},model:{value:e.data.warehous_type,callback:function(t){e.$set(e.data,"warehous_type",t)},expression:"data.warehous_type"}}):t("div",[e._v(e._s(e.data.warehous_type_name))])],1),e._v(" "),t("div",{class:e.$style.field},[t("div",{class:e.$style.label},[e._v("儲位名稱")]),e._v(" "),["add","edit"].includes(e.type)?t("FieldInput",{class:e.$style.input,model:{value:e.data.warehous_name,callback:function(t){e.$set(e.data,"warehous_name",t)},expression:"data.warehous_name"}}):t("div",[e._v(e._s(e.data.warehous_name))])],1)]),e._v(" "),t("div",{class:e.$style["btn-wrap"]},[t("div"),e._v(" "),t("div",{class:e.$style["close-btn"],on:{click:function(t){return e.$emit("close")}}},[e._v("\n                "+e._s("view"===e.type?"關閉":"取消")+"\n            ")]),e._v(" "),["add","edit"].includes(e.type)?t("div",{class:e.$style["save-btn"],on:{click:e.onSave}},[e._v("\n                完成\n            ")]):e._e()]),e._v(" "),e.errorMsg?t("AlterDialog",{attrs:{msg:e.errorMsg},on:{close:function(t){e.errorMsg=""}}}):e._e()]},proxy:!0}])})}),[],!1,(function(e){this.$style=m.default.locals||m.default}),null,null);t.default=component.exports},758:function(e,t,n){"use strict";var r=n(679),o=n.n(r);n.d(t,"default",(function(){return o.a}))},759:function(e,t,n){var r=n(17)(!1);r.push([e.i,".wrap_l2IZy{flex:1;display:flex;padding:2rem 1.875rem 2.5rem;flex-direction:column;box-sizing:border-box}.search-wrap_EVzX2{margin-top:1.25rem;height:2.813rem}.feature_d7ocp{display:flex;margin-top:.938rem;justify-content:flex-end;align-items:center}.add-btn_PSVif{padding:.938rem 1.938rem;font-size:1.375rem}",""]),r.locals={wrap:"wrap_l2IZy","search-wrap":"search-wrap_EVzX2",feature:"feature_d7ocp","add-btn":"add-btn_PSVif"},e.exports=r},795:function(e,t,n){"use strict";n.r(t);n(26),n(21),n(34),n(22),n(35);var r=n(10),o=n(27),c=(n(28),n(12),n(234),n(39),n(51),n(52),n(13)),l=n(641),d=n(660),f=n(633),h=n(236),_=n(238),y=n(725);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w={components:{FieldButton:l.default,TableArea:d.default,SearchBar:f.default,DeleteDialog:h.default,EditDialog:y.default},data:function(){return{column:[{prop:"index",label:"項次",width:100},{prop:"warehous_code",label:"儲位編號"},{prop:"warehous_type_name",label:"儲位類型"},{prop:"warehous_name",label:"儲位名稱"},{prop:"function",label:"",detail:[{key:"view",icon:"eye",func:this.onView},{key:"edit",icon:"pen",func:this.onEdit},{key:"delete",icon:"trash",func:this.onDeleteConfirm}]}],rowData:[],searchKeyWord:"",isShowDelete:!1,editMode:"",curIndex:null}},computed:{tableData:function(){var e=this,t=this.rowData;return this.searchKeyWord&&(t=t.filter((function(t){return Object.entries(t).some((function(t){var n=Object(o.a)(t,2),r=n[0],c=n[1];return!!e.column.some((function(e){return e.prop===r}))&&"".concat(c).includes(e.searchKeyWord)}))}))),t}},mounted:function(){this.onSearch()},methods:m(m({},Object(c.b)(["actionSetToast"])),{},{onSearch:function(){var e=this;this.$axios.$get("/api/warehouse").then((function(t){t.success&&(e.rowData=t.data.map((function(e,t){return m(m({},e),{},{warehous_type_name:_.e[e.warehous_type]})})))}))},onAdd:function(){this.editMode="add"},onView:function(e){var t=e.id;this.curIndex=t,this.editMode="view"},onEdit:function(e){var t=e.id;this.curIndex=t,this.editMode="edit"},onDeleteConfirm:function(e){var t=e.id;this.curIndex=t,this.isShowDelete=!0},onDelete:function(){var e=this;this.$axios.$delete("/api/warehouse/".concat(this.curIndex)).then((function(t){t.success&&(e.actionSetToast("删除成功"),e.onSearch(),e.curIndex=null,e.isShowDelete=!1)}))},close:function(){this.curIndex=null,this.editMode="",this.isShowDelete=!1},reload:function(){this.close(),this.onSearch()}})},O=n(758),x=n(7);var component=Object(x.a)(w,(function(){var e=this,t=e._self._c;return t("div",{class:e.$style.wrap},[t("SearchBar",{model:{value:e.searchKeyWord,callback:function(t){e.searchKeyWord=t},expression:"searchKeyWord"}}),e._v(" "),t("div",{class:e.$style["search-wrap"]}),e._v(" "),t("div",{class:e.$style.feature},[t("FieldButton",{class:e.$style["add-btn"],attrs:{type:"add"},on:{click:e.onAdd}},[e._v("\n            新增儲位\n        ")])],1),e._v(" "),t("TableArea",{attrs:{"type-label":"儲位","table-data":e.tableData,column:e.column}}),e._v(" "),e.isShowDelete?t("DeleteDialog",{on:{delete:e.onDelete,close:e.close}}):e._e(),e._v(" "),e.editMode?t("EditDialog",{attrs:{id:e.curIndex,type:e.editMode},on:{close:e.close,reload:e.reload}}):e._e()],1)}),[],!1,(function(e){this.$style=O.default.locals||O.default}),null,null);t.default=component.exports}}]);